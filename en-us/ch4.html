<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>4. Encoding and Evolution | 设计数据密集型应用</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.1.4">
    <link rel="preload stylesheet" href="/assets/style.DjFoGsfx.css" as="style">
    
    <script type="module" src="/assets/app.CGlI6-d6.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BDqU1K9f.js">
    <link rel="modulepreload" href="/assets/chunks/framework.biRBrEtS.js">
    <link rel="modulepreload" href="/assets/chunks/ch4.BVB3NKxU.js">
    <link rel="modulepreload" href="/assets/en-us_ch4.md.DdDCoVjs.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar has-sidebar top" data-v-7ad780c2 data-v-844edcde><div class="wrapper" data-v-844edcde><div class="container" data-v-844edcde><div class="title" data-v-844edcde><div class="VPNavBarTitle has-sidebar" data-v-844edcde data-v-0ad69264><a class="title" href="/" data-v-0ad69264><!--[--><!--]--><!----><span data-v-0ad69264>设计数据密集型应用</span><!--[--><!--]--></a></div></div><div class="content" data-v-844edcde><div class="content-body" data-v-844edcde><!--[--><!--]--><div class="VPNavBarSearch search" data-v-844edcde><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-844edcde data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-283b26e9 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-844edcde data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-358b6670><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-844edcde data-v-8e87c032 data-v-af5898d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-af5898d3><span class="vpi-more-horizontal icon" data-v-af5898d3></span></button><div class="menu" data-v-af5898d3><div class="VPMenu" data-v-af5898d3 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-8e87c032><div class="item appearance" data-v-8e87c032><p class="label" data-v-8e87c032>Appearance</p><div class="appearance-action" data-v-8e87c032><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-8e87c032 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div></div></div><div class="group" data-v-8e87c032><div class="item social-links" data-v-8e87c032><div class="VPSocialLinks social-links-list" data-v-8e87c032 data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-358b6670><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-844edcde data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-844edcde><div class="divider-line" data-v-844edcde></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-883964e0><button data-v-883964e0>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-4871f9f5><div class="curtain" data-v-4871f9f5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-4871f9f5><span class="visually-hidden" id="sidebar-aria-label" data-v-4871f9f5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/preface.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>序言</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch1.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第一章：可靠性、可伸缩性和可维护性</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch2.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第二章：数据模型与查询语言</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/part-i.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>第一部分：数据系统基础</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch1.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第一章：可靠性、可伸缩性和可维护性</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch2.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第二章：数据模型与查询语言</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch3.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第三章：存储与检索</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch4.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第四章：编码与演化</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/part-ii.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>第二部分：分布式数据</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch5.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第五章：复制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch6.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第六章：分区</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch7.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第七章：事务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch8.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第八章：分布式系统的麻烦</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch9.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第九章：一致性与共识</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/part-iii.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>第三部分：衍生数据</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch10.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第十章：批处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch11.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第十一章：流处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch12.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第十二章：数据系统的未来</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><!----><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/glossary.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>术语表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/colophon.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>后记</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-269d7ea7><div class="content" data-v-269d7ea7><div class="outline-marker" data-v-269d7ea7></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-269d7ea7>On this page</div><ul class="VPDocOutlineItem root" data-v-269d7ea7 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _en-us_ch4" data-v-e6f2a212><div><h1 id="_4-encoding-and-evolution" tabindex="-1">4. Encoding and Evolution <a class="header-anchor" href="#_4-encoding-and-evolution" aria-label="Permalink to &quot;4. Encoding and Evolution&quot;">​</a></h1><p><img src="/assets/ch4.CV2r_CW1.png" alt=""></p><blockquote><p><em>Everything changes and nothing stands still.</em></p><p>​ — Heraclitus of Ephesus, as quoted by Plato in <em>Cratylus</em> (360 BCE)</p></blockquote><hr><p>Applications inevitably change over time. Features are added or modified as new products are launched, user requirements become better understood, or business cir‐ cumstances change. In <a href="./ch1.mdj.html">Chapter 1</a> we introduced the idea of <em>evolvability</em>: we should aim to build systems that make it easy to adapt to change (see “<a href="./ch1.html#evolvability-making-change-easy">Evolvability: Making Change Easy</a>”).</p><p>In most cases, a change to an application’s features also requires a change to data that it stores: perhaps a new field or record type needs to be captured, or perhaps existing data needs to be presented in a new way.</p><p>The data models we discussed in <a href="./ch2.html">Chapter 2</a> have different ways of coping with such change. Relational databases generally assume that all data in the database conforms to one schema: although that schema can be changed (through schema migrations; i.e., ALTER statements), there is exactly one schema in force at any one point in time. By contrast, schema-on-read (“schemaless”) databases don’t enforce a schema, so the database can contain a mixture of older and newer data formats written at different times (see “<a href="./ch3.html#schema-flexibility-in-the-document-model">Schema flexibility in the document model</a>”).</p><p>When a data format or schema changes, a corresponding change to application code often needs to happen (for example, you add a new field to a record, and the applica‐ tion code starts reading and writing that field). However, in a large application, code changes often cannot happen instantaneously:</p><ul><li>With server-side applications you may want to perform a <em>rolling upgrade</em> (also known as a <em>staged rollout</em>), deploying the new version to a few nodes at a time, checking whether the new version is running smoothly, and gradually working your way through all the nodes. This allows new versions to be deployed without service downtime, and thus encourages more frequent releases and better evolva‐ bility.</li><li>With client-side applications you’re at the mercy of the user, who may not install the update for some time.</li></ul><p>This means that old and new versions of the code, and old and new data formats, may potentially all coexist in the system at the same time. In order for the system to continue running smoothly, we need to maintain compatibility in both directions:</p><p><em><strong>Backward compatibility</strong></em></p><p>Newer code can read data that was written by older code.</p><p><em><strong>Forward compatibility</strong></em></p><p>Older code can read data that was written by newer code.</p><p>Backward compatibility is normally not hard to achieve: as author of the newer code, you know the format of data written by older code, and so you can explicitly handle it (if necessary by simply keeping the old code to read the old data). Forward compati‐ bility can be trickier, because it requires older code to ignore additions made by a newer version of the code.</p><p>In this chapter we will look at several formats for encoding data, including JSON, XML, Protocol Buffers, Thrift, and Avro. In particular, we will look at how they han‐ dle schema changes and how they support systems where old and new data and code need to coexist. We will then discuss how those formats are used for data storage and for communication: in web services, Representational State Transfer (REST), and remote procedure calls (RPC), as well as message-passing systems such as actors and message queues.</p><h2 id="" tabindex="-1">…… <a class="header-anchor" href="#" aria-label="Permalink to &quot;……&quot;">​</a></h2><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h2><p>In this chapter we looked at several ways of turning data structures into bytes on the network or bytes on disk. We saw how the details of these encodings affect not only their efficiency, but more importantly also the architecture of applications and your options for deploying them.</p><p>In particular, many services need to support rolling upgrades, where a new version of a service is gradually deployed to a few nodes at a time, rather than deploying to all nodes simultaneously. Rolling upgrades allow new versions of a service to be released without downtime (thus encouraging frequent small releases over rare big releases) and make deployments less risky (allowing faulty releases to be detected and rolled back before they affect a large number of users). These properties are hugely benefi‐ cial for <em>evolvability</em>, the ease of making changes to an application.</p><p>During rolling upgrades, or for various other reasons, we must assume that different nodes are running the different versions of our application’s code. Thus, it is impor‐ tant that all data flowing around the system is encoded in a way that provides back‐ ward compatibility (new code can read old data) and forward compatibility (old code can read new data).</p><p>We discussed several data encoding formats and their compatibility properties:</p><ul><li>Programming language–specific encodings are restricted to a single program‐ ming language and often fail to provide forward and backward compatibility.</li><li>Textual formats like JSON, XML, and CSV are widespread, and their compatibil‐ ity depends on how you use them. They have optional schema languages, which are sometimes helpful and sometimes a hindrance. These formats are somewhat vague about datatypes, so you have to be careful with things like numbers and binary strings.</li><li>Binary schema–driven formats like Thrift, Protocol Buffers, and Avro allow compact, efficient encoding with clearly defined forward and backward compati‐ bility semantics. The schemas can be useful for documentation and code genera‐ tion in statically typed languages. However, they have the downside that data needs to be decoded before it is human-readable.</li></ul><p>We also discussed several modes of dataflow, illustrating different scenarios in which data encodings are important:</p><ul><li>Databases, where the process writing to the database encodes the data and the process reading from the database decodes it</li><li>RPC and REST APIs, where the client encodes a request, the server decodes the request and encodes a response, and the client finally decodes the response</li><li>Asynchronous message passing (using message brokers or actors), where nodes communicate by sending each other messages that are encoded by the sender and decoded by the recipient</li></ul><p>We can conclude that with a bit of care, backward/forward compatibility and rolling upgrades are quite achievable. May your application’s evolution be rapid and your deployments be frequent.</p><h2 id="references" tabindex="-1">References <a class="header-anchor" href="#references" aria-label="Permalink to &quot;References&quot;">​</a></h2><hr><ol><li><p>“<a href="http://docs.oracle.com/javase/7/docs/platform/serialization/spec/serialTOC.html" target="_blank" rel="noreferrer">Java Object Serialization Specification</a>,” <em>docs.oracle.com</em>, 2010.</p></li><li><p>“<a href="http://ruby-doc.org/core-2.2.0/" target="_blank" rel="noreferrer">Ruby 2.2.0 API Documentation</a>,” <em>ruby-doc.org</em>, Dec 2014.</p></li><li><p>“<a href="https://docs.python.org/3/library/pickle.html" target="_blank" rel="noreferrer">The Python 3.4.3 Standard Library Reference Manual</a>,” <em>docs.python.org</em>, February 2015.</p></li><li><p>“<a href="https://github.com/EsotericSoftware/kryo" target="_blank" rel="noreferrer">EsotericSoftware/kryo</a>,” <em>github.com</em>, October 2014.</p></li><li><p>“<a href="http://cwe.mitre.org/data/definitions/502.html" target="_blank" rel="noreferrer">CWE-502: Deserialization of Untrusted Data</a>,” Common Weakness Enumeration, <em>cwe.mitre.org</em>, July 30, 2014.</p></li><li><p>Steve Breen: “<a href="http://foxglovesecurity.com/2015/11/06/what-do-weblogic-websphere-jboss-jenkins-opennms-and-your-application-have-in-common-this-vulnerability/" target="_blank" rel="noreferrer">What Do WebLogic, WebSphere, JBoss, Jenkins, OpenNMS, and Your Application Have in Common? This Vulnerability</a>,” <em>foxglovesecurity.com</em>, November 6, 2015.</p></li><li><p>Patrick McKenzie: “<a href="http://www.kalzumeus.com/2013/01/31/what-the-rails-security-issue-means-for-your-startup/" target="_blank" rel="noreferrer">What the Rails Security Issue Means for Your Startup</a>,” <em>kalzumeus.com</em>, January 31, 2013.</p></li><li><p>Eishay Smith: “<a href="https://github.com/eishay/jvm-serializers/wiki" target="_blank" rel="noreferrer">jvm-serializers wiki</a>,” <em>github.com</em>, November 2014.</p></li><li><p>“<a href="http://c2.com/cgi/wiki?XmlIsaPoorCopyOfEssExpressions" target="_blank" rel="noreferrer">XML Is a Poor Copy of S-Expressions</a>,” <em>c2.com</em> wiki.</p></li><li><p>Matt Harris: “<a href="https://groups.google.com/forum/#!topic/twitter-development-talk/ahbvo3VTIYI" target="_blank" rel="noreferrer">Snowflake: An Update and Some Very Important Information</a>,” email to <em>Twitter Development Talk</em> mailing list, October 19, 2010.</p></li><li><p>Shudi (Sandy) Gao, C. M. Sperberg-McQueen, and Henry S. Thompson: “<a href="http://www.w3.org/XML/Schema" target="_blank" rel="noreferrer">XML Schema 1.1</a>,” W3C Recommendation, May 2001.</p></li><li><p>Francis Galiegue, Kris Zyp, and Gary Court: “<a href="http://json-schema.org/" target="_blank" rel="noreferrer">JSON Schema</a>,” IETF Internet-Draft, February 2013.</p></li><li><p>Yakov Shafranovich: “<a href="https://tools.ietf.org/html/rfc4180" target="_blank" rel="noreferrer">RFC 4180: Common Format and MIME Type for Comma-Separated Values (CSV) Files</a>,” October 2005.</p></li><li><p>“<a href="http://msgpack.org/" target="_blank" rel="noreferrer">MessagePack Specification</a>,” <em>msgpack.org</em>. Mark Slee, Aditya Agarwal, and Marc Kwiatkowski: “<a href="http://thrift.apache.org/static/files/thrift-20070401.pdf" target="_blank" rel="noreferrer">Thrift: Scalable Cross-Language Services Implementation</a>,” Facebook technical report, April 2007.</p></li><li><p>“<a href="https://developers.google.com/protocol-buffers/docs/overview" target="_blank" rel="noreferrer">Protocol Buffers Developer Guide</a>,” Google, Inc., <em>developers.google.com</em>.</p></li><li><p>Igor Anishchenko: “<a href="http://www.slideshare.net/IgorAnishchenko/pb-vs-thrift-vs-avro" target="_blank" rel="noreferrer">Thrift vs Protocol Buffers vs Avro - Biased Comparison</a>,” <em>slideshare.net</em>, September 17, 2012.</p></li><li><p>“<a href="http://wiki.apache.org/thrift/LibraryFeatures" target="_blank" rel="noreferrer">A Matrix of the Features Each Individual Language Library Supports</a>,” <em>wiki.apache.org</em>.</p></li><li><p>Martin Kleppmann: “<a href="http://martin.kleppmann.com/2012/12/05/schema-evolution-in-avro-protocol-buffers-thrift.html" target="_blank" rel="noreferrer">Schema Evolution in Avro, Protocol Buffers and Thrift</a>,” <em>martin.kleppmann.com</em>, December 5, 2012.</p></li><li><p>“<a href="http://avro.apache.org/docs/1.7.7/" target="_blank" rel="noreferrer">Apache Avro 1.7.7 Documentation</a>,” <em>avro.apache.org</em>, July 2014.</p></li><li><p>Doug Cutting, Chad Walters, Jim Kellerman, et al.: “<a href="http://mail-archives.apache.org/mod_mbox/hadoop-general/200904.mbox/%3C49D53694.1050906@apache.org%3E" target="_blank" rel="noreferrer">[PROPOSAL] New Subproject: Avro</a>,” email thread on <em>hadoop-general</em> mailing list, <em>mail-archives.apache.org</em>, April 2009.</p></li><li><p>Tony Hoare: “<a href="http://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare" target="_blank" rel="noreferrer">Null References: The Billion Dollar Mistake</a>,” at <em>QCon London</em>, March 2009.</p></li><li><p>Aditya Auradkar and Tom Quiggle: “<a href="https://engineering.linkedin.com/espresso/introducing-espresso-linkedins-hot-new-distributed-document-store" target="_blank" rel="noreferrer">Introducing Espresso—LinkedIn&#39;s Hot New Distributed Document Store</a>,” <em>engineering.linkedin.com</em>, January 21, 2015.</p></li><li><p>Jay Kreps: “<a href="http://blog.confluent.io/2015/02/25/stream-data-platform-2/" target="_blank" rel="noreferrer">Putting Apache Kafka to Use: A Practical Guide to Building a Stream Data Platform (Part 2)</a>,” <em>blog.confluent.io</em>, February 25, 2015.</p></li><li><p>Gwen Shapira: “<a href="http://radar.oreilly.com/2014/11/the-problem-of-managing-schemas.html" target="_blank" rel="noreferrer">The Problem of Managing Schemas</a>,” <em>radar.oreilly.com</em>, November 4, 2014.</p></li><li><p>“<a href="http://pig.apache.org/docs/r0.14.0/" target="_blank" rel="noreferrer">Apache Pig 0.14.0 Documentation</a>,” <em>pig.apache.org</em>, November 2014.</p></li><li><p>John Larmouth: <a href="http://www.oss.com/asn1/resources/books-whitepapers-pubs/larmouth-asn1-book.pdf" target="_blank" rel="noreferrer"><em>ASN.1Complete</em></a>. Morgan Kaufmann, 1999. ISBN: 978-0-122-33435-1</p></li><li><p>Russell Housley, Warwick Ford, Tim Polk, and David Solo: “<a href="https://www.ietf.org/rfc/rfc2459.txt" target="_blank" rel="noreferrer">RFC 2459: Internet X.509 Public Key Infrastructure: Certificate and CRL Profile</a>,” IETF Network Working Group, Standards Track, January 1999.</p></li><li><p>Lev Walkin: “<a href="http://lionet.info/asn1c/blog/2010/09/21/question-extensibility-removing-fields/" target="_blank" rel="noreferrer">Question: Extensibility and Dropping Fields</a>,” <em>lionet.info</em>, September 21, 2010.</p></li><li><p>Jesse James Garrett: “<a href="http://www.adaptivepath.com/ideas/ajax-new-approach-web-applications/" target="_blank" rel="noreferrer">Ajax: A New Approach to Web Applications</a>,” <em>adaptivepath.com</em>, February 18, 2005.</p></li><li><p>Sam Newman: <em>Building Microservices</em>. O&#39;Reilly Media, 2015. ISBN: 978-1-491-95035-7</p></li><li><p>Chris Richardson: “<a href="http://www.infoq.com/articles/microservices-intro" target="_blank" rel="noreferrer">Microservices: Decomposing Applications for Deployability and Scalability</a>,” <em>infoq.com</em>, May 25, 2014.</p></li><li><p>Pat Helland: “<a href="http://cidrdb.org/cidr2005/papers/P12.pdf" target="_blank" rel="noreferrer">Data on the Outside Versus Data on the Inside</a>,” at <em>2nd Biennial Conference on Innovative Data Systems Research</em> (CIDR), January 2005.</p></li><li><p>Roy Thomas Fielding: “<a href="https://www.ics.uci.edu/~fielding/pubs/dissertation/fielding_dissertation.pdf" target="_blank" rel="noreferrer">Architectural Styles and the Design of Network-Based Software Architectures</a>,” PhD Thesis, University of California, Irvine, 2000.</p></li><li><p>Roy Thomas Fielding: “<a href="http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven" target="_blank" rel="noreferrer">REST APIs Must Be Hypertext-Driven</a>,” <em>roy.gbiv.com</em>, October 20 2008.</p></li><li><p>“<a href="http://royal.pingdom.com/2010/10/15/rest-in-peace-soap/" target="_blank" rel="noreferrer">REST in Peace, SOAP</a>,” <em>royal.pingdom.com</em>, October 15, 2010.</p></li><li><p>“<a href="https://www.innoq.com/resources/ws-standards-poster/" target="_blank" rel="noreferrer">Web Services Standards as of Q1 2007</a>,” <em>innoq.com</em>, February 2007.</p></li><li><p>Pete Lacey: “<a href="http://harmful.cat-v.org/software/xml/soap/simple" target="_blank" rel="noreferrer">The S Stands for Simple</a>,” <em>harmful.cat-v.org</em>, November 15, 2006.</p></li><li><p>Stefan Tilkov: “<a href="http://www.infoq.com/articles/pete-lacey-ws-criticism" target="_blank" rel="noreferrer">Interview: Pete Lacey Criticizes Web Services</a>,” <em>infoq.com</em>, December 12, 2006.</p></li><li><p>“<a href="http://swagger.io/specification/" target="_blank" rel="noreferrer">OpenAPI Specification (fka Swagger RESTful API Documentation Specification) Version 2.0</a>,” <em>swagger.io</em>, September 8, 2014.</p></li><li><p>Michi Henning: “<a href="http://queue.acm.org/detail.cfm?id=1142044" target="_blank" rel="noreferrer">The Rise and Fall of CORBA</a>,” <em>ACM Queue</em>, volume 4, number 5, pages 28–34, June 2006. <a href="http://dx.doi.org/10.1145/1142031.1142044" target="_blank" rel="noreferrer">doi:10.1145/1142031.1142044</a></p></li><li><p>Andrew D. Birrell and Bruce Jay Nelson: “<a href="http://www.cs.princeton.edu/courses/archive/fall03/cs518/papers/rpc.pdf" target="_blank" rel="noreferrer">Implementing Remote Procedure Calls</a>,” <em>ACM Transactions on Computer Systems</em> (TOCS), volume 2, number 1, pages 39–59, February 1984. <a href="http://dx.doi.org/10.1145/2080.357392" target="_blank" rel="noreferrer">doi:10.1145/2080.357392</a></p></li><li><p>Jim Waldo, Geoff Wyant, Ann Wollrath, and Sam Kendall: “<a href="http://m.mirror.facebook.net/kde/devel/smli_tr-94-29.pdf" target="_blank" rel="noreferrer">A Note on Distributed Computing</a>,” Sun Microsystems Laboratories, Inc., Technical Report TR-94-29, November 1994.</p></li><li><p>Steve Vinoski: “<a href="http://steve.vinoski.net/pdf/IEEE-Convenience_Over_Correctness.pdf" target="_blank" rel="noreferrer">Convenience over Correctness</a>,” <em>IEEE Internet Computing</em>, volume 12, number 4, pages 89–92, July 2008. <a href="http://dx.doi.org/10.1109/MIC.2008.75" target="_blank" rel="noreferrer">doi:10.1109/MIC.2008.75</a></p></li><li><p>Marius Eriksen: “<a href="http://monkey.org/~marius/funsrv.pdf" target="_blank" rel="noreferrer">Your Server as a Function</a>,” at <em>7th Workshop on Programming Languages and Operating Systems</em> (PLOS), November 2013. <a href="http://dx.doi.org/10.1145/2525528.2525538" target="_blank" rel="noreferrer">doi:10.1145/2525528.2525538</a></p></li><li><p>“<a href="https://github.com/grpc/grpc-common" target="_blank" rel="noreferrer">grpc-common Documentation</a>,” Google, Inc., <em>github.com</em>, February 2015.</p></li><li><p>Aditya Narayan and Irina Singh: “<a href="http://www.ibm.com/developerworks/websphere/library/techarticles/0705_narayan/0705_narayan.html" target="_blank" rel="noreferrer">Designing and Versioning Compatible Web Services</a>,” <em>ibm.com</em>, March 28, 2007.</p></li><li><p>Troy Hunt: “<a href="http://www.troyhunt.com/2014/02/your-api-versioning-is-wrong-which-is.html" target="_blank" rel="noreferrer">Your API Versioning Is Wrong, Which Is Why I Decided to Do It 3 Different Wrong Ways</a>,” <em>troyhunt.com</em>, February 10, 2014.</p></li><li><p>“<a href="https://stripe.com/docs/upgrades" target="_blank" rel="noreferrer">API Upgrades</a>,” Stripe, Inc., April 2015.</p></li><li><p>Jonas Bonér: “<a href="http://grokbase.com/t/gg/akka-user/138wd8j9e3/upgrade-in-an-akka-cluster" target="_blank" rel="noreferrer">Upgrade in an Akka Cluster</a>,” email to <em>akka-user</em> mailing list, <em>grokbase.com</em>, August 28, 2013.</p></li><li><p>Philip A. Bernstein, Sergey Bykov, Alan Geller, et al.: “<a href="http://research.microsoft.com/pubs/210931/Orleans-MSR-TR-2014-41.pdf" target="_blank" rel="noreferrer">Orleans: Distributed Virtual Actors for Programmability and Scalability</a>,” Microsoft Research Technical Report MSR-TR-2014-41, March 2014.</p></li><li><p>“<a href="http://dotnet.github.io/orleans/" target="_blank" rel="noreferrer">Microsoft Project Orleans Documentation</a>,” Microsoft Research, <em>dotnet.github.io</em>, 2015.</p></li><li><p>David Mercer, Sean Hinde, Yinso Chen, and Richard A O&#39;Keefe: “<a href="http://erlang.org/pipermail/erlang-questions/2007-October/030318.html" target="_blank" rel="noreferrer">beginner: Updating Data Structures</a>,” email thread on <em>erlang-questions</em> mailing list, <em>erlang.com</em>, October 29, 2007.</p></li><li><p>Fred Hebert: “<a href="http://learnyousomeerlang.com/maps" target="_blank" rel="noreferrer">Postscript: Maps</a>,” <em>learnyousomeerlang.com</em>, April 9, 2014.</p></li></ol></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-5941af80><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-5941af80><span class="visually-hidden" id="doc-footer-aria-label" data-v-5941af80>Pager</span><div class="pager" data-v-5941af80><!----></div><div class="pager" data-v-5941af80><a class="VPLink link pager-link next" href="/preface.html" data-v-5941af80><!--[--><span class="desc" data-v-5941af80>Next page</span><span class="title" data-v-5941af80>序言</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"summary.md\":\"B0amUxKu\",\"en-us_ch2.md\":\"C2WDegur\",\"navbar.md\":\"BP3c7hpb\",\"readme.md\":\"B0Er_XOT\",\"en-us_ch3.md\":\"DCh9kXaX\",\"glossary.md\":\"BXnsEoNy\",\"preface.md\":\"CVJB568P\",\"en-us_summary.md\":\"DEmR9T6z\",\"sidebar.md\":\"CsiT90z_\",\"en-us__navbar.md\":\"DXzSSaBt\",\"en-us__sidebar.md\":\"8oLXzuTa\",\"ch12.md\":\"Co1Ox6w9\",\"ch1.md\":\"D1iB_H8T\",\"zh-tw__navbar.md\":\"BvalGuZ2\",\"en-us_colophon.md\":\"DtLhM_I1\",\"en-us_part-iii.md\":\"C9H-zTxq\",\"ch6.md\":\"D8Ld1wtY\",\"zh-tw_summary.md\":\"BuHAa7nF\",\"en-us_ch5.md\":\"OxSuef0R\",\"en-us_ch11.md\":\"D5D4V1zm\",\"colophon.md\":\"Du3LzVqP\",\"zh-tw_ch4.md\":\"DP3D7goZ\",\"en-us_part-i.md\":\"D-ZRANlY\",\"ch4.md\":\"C17WfCXK\",\"en-us_preface.md\":\"0QJb1SWA\",\"en-us_ch9.md\":\"LyIzo0ry\",\"ch10.md\":\"CEi3COB5\",\"en-us_part-ii.md\":\"BYnJZO_1\",\"en-us_ch4.md\":\"DdDCoVjs\",\"part-ii.md\":\"BKzySLu3\",\"zh-tw_readme.md\":\"aVUnm1jO\",\"en-us_ch6.md\":\"BwpB13Nu\",\"part-i.md\":\"BBJf6w7c\",\"en-us_glossary.md\":\"DLLZmog8\",\"en-us_ch12.md\":\"-d4NHzF3\",\"index.md\":\"CmHb6CnG\",\"zh-tw__sidebar.md\":\"ChNCxc4M\",\"en-us_ch10.md\":\"D_lwi595\",\"ch11.md\":\"DcJTjZF3\",\"ch8.md\":\"Cz0ET0fV\",\"zh-tw_ch12.md\":\"Ycnd6A8k\",\"ch3.md\":\"DhQXUQY8\",\"zh-tw_ch3.md\":\"DRlTUDPX\",\"ch2.md\":\"Bm9iBlTb\",\"ch9.md\":\"Bv3D9gOJ\",\"en-us_ch1.md\":\"lWcvoqfk\",\"part-iii.md\":\"BrkY_LtG\",\"zh-tw_ch2.md\":\"_oRuHLQc\",\"zh-tw_ch10.md\":\"Cjjf3E9L\",\"zh-tw_ch7.md\":\"CCnMVrqS\",\"zh-tw_ch8.md\":\"B9FJi3Ng\",\"zh-tw_colophon.md\":\"DOJIrifa\",\"zh-tw_part-i.md\":\"n9I73DQ3\",\"zh-tw_part-ii.md\":\"CAkQhN5V\",\"en-us_readme.md\":\"DN0BZAbz\",\"zh-tw_ch11.md\":\"Dt-HgChC\",\"en-us_ch7.md\":\"DcWzvId0\",\"zh-tw_ch6.md\":\"CbSfpHsl\",\"ch5.md\":\"vXod8k2u\",\"zh-tw_preface.md\":\"De0oJ34s\",\"zh-tw_ch1.md\":\"CLZ7WDab\",\"en-us_ch8.md\":\"jFSZwcL3\",\"ch7.md\":\"Die5pnSH\",\"zh-tw_part-iii.md\":\"MDr_8oqQ\",\"zh-tw_ch5.md\":\"lRedaHi2\",\"zh-tw_glossary.md\":\"C6qN5x-n\",\"zh-tw_ch9.md\":\"Y512fJ8b\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"设计数据密集型应用\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"sidebar\":[{\"text\":\"序言\",\"link\":\"/preface\",\"items\":[{\"text\":\"第一章：可靠性、可伸缩性和可维护性\",\"link\":\"/ch1\"},{\"text\":\"第二章：数据模型与查询语言\",\"link\":\"/ch2\"}]},{\"text\":\"第一部分：数据系统基础\",\"link\":\"/part-i\",\"items\":[{\"text\":\"第一章：可靠性、可伸缩性和可维护性\",\"link\":\"/ch1\"},{\"text\":\"第二章：数据模型与查询语言\",\"link\":\"/ch2\"},{\"text\":\"第三章：存储与检索\",\"link\":\"/ch3\"},{\"text\":\"第四章：编码与演化\",\"link\":\"/ch4\"}]},{\"text\":\"第二部分：分布式数据\",\"link\":\"/part-ii\",\"items\":[{\"text\":\"第五章：复制\",\"link\":\"/ch5\"},{\"text\":\"第六章：分区\",\"link\":\"/ch6\"},{\"text\":\"第七章：事务\",\"link\":\"/ch7\"},{\"text\":\"第八章：分布式系统的麻烦\",\"link\":\"/ch8\"},{\"text\":\"第九章：一致性与共识\",\"link\":\"/ch9\"}]},{\"text\":\"第三部分：衍生数据\",\"link\":\"/part-iii\",\"items\":[{\"text\":\"第十章：批处理\",\"link\":\"/ch10\"},{\"text\":\"第十一章：流处理\",\"link\":\"/ch11\"},{\"text\":\"第十二章：数据系统的未来\",\"link\":\"/ch12\"}]},{\"text\":\"术语表\",\"link\":\"/glossary\"},{\"text\":\"后记\",\"link\":\"/colophon\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>