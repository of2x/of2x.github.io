<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>6. Partitioning | 设计数据密集型应用</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.1.4">
    <link rel="preload stylesheet" href="/assets/style.DjFoGsfx.css" as="style">
    
    <script type="module" src="/assets/app.CGlI6-d6.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BDqU1K9f.js">
    <link rel="modulepreload" href="/assets/chunks/framework.biRBrEtS.js">
    <link rel="modulepreload" href="/assets/chunks/ch6.Nms9coDG.js">
    <link rel="modulepreload" href="/assets/en-us_ch6.md.BwpB13Nu.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar has-sidebar top" data-v-7ad780c2 data-v-844edcde><div class="wrapper" data-v-844edcde><div class="container" data-v-844edcde><div class="title" data-v-844edcde><div class="VPNavBarTitle has-sidebar" data-v-844edcde data-v-0ad69264><a class="title" href="/" data-v-0ad69264><!--[--><!--]--><!----><span data-v-0ad69264>设计数据密集型应用</span><!--[--><!--]--></a></div></div><div class="content" data-v-844edcde><div class="content-body" data-v-844edcde><!--[--><!--]--><div class="VPNavBarSearch search" data-v-844edcde><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-844edcde data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-283b26e9 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-844edcde data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-358b6670><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-844edcde data-v-8e87c032 data-v-af5898d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-af5898d3><span class="vpi-more-horizontal icon" data-v-af5898d3></span></button><div class="menu" data-v-af5898d3><div class="VPMenu" data-v-af5898d3 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-8e87c032><div class="item appearance" data-v-8e87c032><p class="label" data-v-8e87c032>Appearance</p><div class="appearance-action" data-v-8e87c032><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-8e87c032 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div></div></div><div class="group" data-v-8e87c032><div class="item social-links" data-v-8e87c032><div class="VPSocialLinks social-links-list" data-v-8e87c032 data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-358b6670><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-844edcde data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-844edcde><div class="divider-line" data-v-844edcde></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-883964e0><button data-v-883964e0>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-4871f9f5><div class="curtain" data-v-4871f9f5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-4871f9f5><span class="visually-hidden" id="sidebar-aria-label" data-v-4871f9f5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/preface.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>序言</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch1.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第一章：可靠性、可伸缩性和可维护性</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch2.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第二章：数据模型与查询语言</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/part-i.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>第一部分：数据系统基础</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch1.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第一章：可靠性、可伸缩性和可维护性</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch2.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第二章：数据模型与查询语言</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch3.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第三章：存储与检索</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch4.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第四章：编码与演化</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/part-ii.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>第二部分：分布式数据</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch5.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第五章：复制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch6.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第六章：分区</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch7.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第七章：事务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch8.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第八章：分布式系统的麻烦</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch9.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第九章：一致性与共识</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/part-iii.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>第三部分：衍生数据</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch10.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第十章：批处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch11.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第十一章：流处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch12.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第十二章：数据系统的未来</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><!----><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/glossary.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>术语表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/colophon.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>后记</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-269d7ea7><div class="content" data-v-269d7ea7><div class="outline-marker" data-v-269d7ea7></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-269d7ea7>On this page</div><ul class="VPDocOutlineItem root" data-v-269d7ea7 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _en-us_ch6" data-v-e6f2a212><div><h1 id="_6-partitioning" tabindex="-1">6. Partitioning <a class="header-anchor" href="#_6-partitioning" aria-label="Permalink to &quot;6. Partitioning&quot;">​</a></h1><p><img src="/assets/ch6.BzIzSaQd.png" alt=""></p><blockquote><p><em>Clearly, we must break away from the sequential and not limit the computers. We must state definitions and provide for priorities and descriptions of data. We must state relation‐ ships, not procedures.</em></p><p>​ — Grace Murray Hopper, <em>Management and the Computer of the Future</em> (1962)</p></blockquote><hr><p>In <a href="./ch5.html">Chapter 5</a> we discussed replication—that is, having multiple copies of the same data on different nodes. For very large datasets, or very high query throughput, that is not sufficient: we need to break the data up into <em>partitions</em>, also known as <em>sharding</em>.[^i]</p><p>[^i]: Partitioning, as discussed in this chapter, is a way of intentionally breaking a large database down into smaller ones. It has nothing to do with <em>network partitions</em> (netsplits), a type of fault in the network between nodes. We will discuss such faults in <a href="./ch8.html">Chapter 8</a>.</p><blockquote><h4 id="terminological-confusion" tabindex="-1">Terminological confusion <a class="header-anchor" href="#terminological-confusion" aria-label="Permalink to &quot;Terminological confusion&quot;">​</a></h4><p>What we call a <em><strong>partition</strong></em> here is called a <em><strong>shard</strong></em> in MongoDB, Elasticsearch, and SolrCloud; it’s known as a <em><strong>region</strong></em> in HBase, a <em><strong>tablet</strong></em> in Bigtable, a <em><strong>vnode</strong></em> in Cassandra and Riak, and a <em><strong>vBucket</strong></em> in Couchbase. However, <em><strong>partitioning</strong></em> is the most established term, so we’ll stick with that.</p></blockquote><p>Normally, partitions are defined in such a way that each piece of data (each record, row, or document) belongs to exactly one partition. There are various ways of achiev‐ ing this, which we discuss in depth in this chapter. In effect, each partition is a small database of its own, although the database may support operations that touch multi‐ ple partitions at the same time.</p><p>The main reason for wanting to partition data is <em>scalability</em>. Different partitions can be placed on different nodes in a shared-nothing cluster (see the introduction to <a href="./part-ii.html">Part II</a> for a definition of <em>shared nothing</em>). Thus, a large dataset can be distributed across many disks, and the query load can be distributed across many processors.</p><p>For queries that operate on a single partition, each node can independently execute the queries for its own partition, so query throughput can be scaled by adding more nodes. Large, complex queries can potentially be parallelized across many nodes, although this gets significantly harder.</p><p>Partitioned databases were pioneered in the 1980s by products such as Teradata and Tandem NonStop SQL [1], and more recently rediscovered by NoSQL databases and Hadoop-based data warehouses. Some systems are designed for transactional work‐ loads, and others for analytics (see “<a href="./ch3.html#transaction-processing-or-analytics?">Transaction Processing or Analytics?</a>”): this difference affects how the system is tuned, but the fundamentals of partitioning apply to both kinds of workloads.</p><p>In this chapter we will first look at different approaches for partitioning large datasets and observe how the indexing of data interacts with partitioning. We’ll then talk about rebalancing, which is necessary if you want to add or remove nodes in your cluster. Finally, we’ll get an overview of how databases route requests to the right partitions and execute queries.</p><h2 id="" tabindex="-1">…… <a class="header-anchor" href="#" aria-label="Permalink to &quot;……&quot;">​</a></h2><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h2><p>In this chapter we explored different ways of partitioning a large dataset into smaller subsets. Partitioning is necessary when you have so much data that storing and pro‐ cessing it on a single machine is no longer feasible.</p><p>The goal of partitioning is to spread the data and query load evenly across multiple machines, avoiding hot spots (nodes with disproportionately high load). This requires choosing a partitioning scheme that is appropriate to your data, and reba‐ lancing the partitions when nodes are added to or removed from the cluster.</p><p>We discussed two main approaches to partitioning:</p><ul><li><p><em><strong>Key range partitioning</strong></em>, where keys are sorted, and a partition owns all the keys from some minimum up to some maximum. Sorting has the advantage that effi‐ cient range queries are possible, but there is a risk of hot spots if the application often accesses keys that are close together in the sorted order.</p><p>In this approach, partitions are typically rebalanced dynamically by splitting the range into two subranges when a partition gets too big.</p></li><li><p><em><strong>Hash partitioning</strong></em>, where a hash function is applied to each key, and a partition owns a range of hashes. This method destroys the ordering of keys, making range queries inefficient, but may distribute load more evenly.</p><p>When partitioning by hash, it is common to create a fixed number of partitions in advance, to assign several partitions to each node, and to move entire parti‐ tions from one node to another when nodes are added or removed. Dynamic partitioning can also be used.</p></li></ul><p>Hybrid approaches are also possible, for example with a compound key: using one part of the key to identify the partition and another part for the sort order.</p><p>We also discussed the interaction between partitioning and secondary indexes. A sec‐ ondary index also needs to be partitioned, and there are two methods:</p><ul><li><p><em><strong>Document-partitioned indexes</strong></em> (local indexes), where the secondary indexes are stored in the same partition as the primary key and value. This means that only a single partition needs to be updated on write, but a read of the secondary index requires a scatter/gather across all partitions.</p></li><li><p><em><strong>Term-partitioned indexes</strong></em> (global indexes), where the secondary indexes are partitioned separately, using the indexed values. An entry in the secondary index may include records from all partitions of the primary key. When a document is writ‐ ten, several partitions of the secondary index need to be updated; however, a read can be served from a single partition.</p></li></ul><p>Finally, we discussed techniques for routing queries to the appropriate partition, which range from simple partition-aware load balancing to sophisticated parallel query execution engines.</p><p>By design, every partition operates mostly independently—that’s what allows a parti‐ tioned database to scale to multiple machines. However, operations that need to write to several partitions can be difficult to reason about: for example, what happens if the write to one partition succeeds, but another fails? We will address that question in the following chapters.</p><h2 id="references" tabindex="-1">References <a class="header-anchor" href="#references" aria-label="Permalink to &quot;References&quot;">​</a></h2><hr><ol><li><p>David J. DeWitt and Jim N. Gray: “<a href="./.html">Parallel Database Systems: The Future of High Performance Database Systems</a>,” <em>Communications of the ACM</em>, volume 35, number 6, pages 85–98, June 1992. <a href="http://dx.doi.org/10.1145/129888.129894" target="_blank" rel="noreferrer">doi:10.1145/129888.129894</a></p></li><li><p>Lars George: “<a href="http://www.larsgeorge.com/2009/11/hbase-vs-bigtable-comparison.html" target="_blank" rel="noreferrer">HBase vs. BigTable Comparison</a>,” <em>larsgeorge.com</em>, November 2009.</p></li><li><p>“<a href="https://hbase.apache.org/book/book.html" target="_blank" rel="noreferrer">The Apache HBase Reference Guide</a>,” Apache Software Foundation, <em>hbase.apache.org</em>, 2014.</p></li><li><p>MongoDB, Inc.: “<a href="http://blog.mongodb.org/post/47633823714/new-hash-based-sharding-feature-in-mongodb-24" target="_blank" rel="noreferrer">New Hash-Based Sharding Feature in MongoDB 2.4</a>,” <em>blog.mongodb.org</em>, April 10, 2013.</p></li><li><p>Ikai Lan: “<a href="http://ikaisays.com/2011/01/25/app-engine-datastore-tip-monotonically-increasing-values-are-bad/" target="_blank" rel="noreferrer">App Engine Datastore Tip: Monotonically Increasing Values Are Bad</a>,” <em>ikaisays.com</em>, January 25, 2011.</p></li><li><p>Martin Kleppmann: “<a href="http://martin.kleppmann.com/2012/06/18/java-hashcode-unsafe-for-distributed-systems.html" target="_blank" rel="noreferrer">Java&#39;s hashCode Is Not Safe for Distributed Systems</a>,” <em>martin.kleppmann.com</em>, June 18, 2012.</p></li><li><p>David Karger, Eric Lehman, Tom Leighton, et al.: “<a href="http://www.akamai.com/dl/technical_publications/ConsistenHashingandRandomTreesDistributedCachingprotocolsforrelievingHotSpotsontheworldwideweb.pdf" target="_blank" rel="noreferrer">Consistent Hashing and Random Trees: Distributed Caching Protocols for Relieving Hot Spots on the World Wide Web</a>,” at <em>29th Annual ACM Symposium on Theory of Computing</em> (STOC), pages 654–663, 1997. <a href="http://dx.doi.org/10.1145/258533.258660" target="_blank" rel="noreferrer">doi:10.1145/258533.258660</a></p></li><li><p>John Lamping and Eric Veach: “<a href="http://arxiv.org/pdf/1406.2294v1.pdf" target="_blank" rel="noreferrer">A Fast, Minimal Memory, Consistent Hash Algorithm</a>,” <em>arxiv.org</em>, June 2014.</p></li><li><p>Eric Redmond: “<a href="http://littleriakbook.com/" target="_blank" rel="noreferrer">A Little Riak Book</a>,” Version 1.4.0, Basho Technologies, September 2013.</p></li><li><p>“<a href="http://docs.couchbase.com/couchbase-manual-2.5/cb-admin/" target="_blank" rel="noreferrer">Couchbase 2.5 Administrator Guide</a>,” Couchbase, Inc., 2014.</p></li><li><p>Avinash Lakshman and Prashant Malik: “<a href="http://www.cs.cornell.edu/Projects/ladis2009/papers/Lakshman-ladis2009.PDF" target="_blank" rel="noreferrer">Cassandra – A Decentralized Structured Storage System</a>,” at <em>3rd ACM SIGOPS International Workshop on Large Scale Distributed Systems and Middleware</em> (LADIS), October 2009.</p></li><li><p>Jonathan Ellis: “<a href="http://www.datastax.com/documentation/articles/cassandra/cassandrathenandnow.html" target="_blank" rel="noreferrer">Facebook’s Cassandra Paper, Annotated and Compared to Apache Cassandra 2.0</a>,” <em>datastax.com</em>, September 12, 2013.</p></li><li><p>“<a href="http://www.datastax.com/documentation/cql/3.1/cql/cql_intro_c.html" target="_blank" rel="noreferrer">Introduction to Cassandra Query Language</a>,” DataStax, Inc., 2014.</p></li><li><p>Samuel Axon: “<a href="http://mashable.com/2010/09/07/justin-bieber-twitter/" target="_blank" rel="noreferrer">3% of Twitter&#39;s Servers Dedicated to Justin Bieber</a>,” <em>mashable.com</em>, September 7, 2010.</p></li><li><p>“<a href="http://docs.basho.com/riak/1.4.8/" target="_blank" rel="noreferrer">Riak 1.4.8 Docs</a>,” Basho Technologies, Inc., 2014.</p></li><li><p>Richard Low: “<a href="http://www.wentnet.com/blog/?p=77" target="_blank" rel="noreferrer">The Sweet Spot for Cassandra Secondary Indexing</a>,” <em>wentnet.com</em>, October 21, 2013.</p></li><li><p>Zachary Tong: “<a href="http://www.elasticsearch.org/blog/customizing-your-document-routing/" target="_blank" rel="noreferrer">Customizing Your Document Routing</a>,” <em>elasticsearch.org</em>, June 3, 2013.</p></li><li><p>“<a href="https://cwiki.apache.org/confluence/display/solr/Apache+Solr+Reference+Guide" target="_blank" rel="noreferrer">Apache Solr Reference Guide</a>,” Apache Software Foundation, 2014.</p></li><li><p>Andrew Pavlo: “<a href="http://hstore.cs.brown.edu/documentation/faq/" target="_blank" rel="noreferrer">H-Store Frequently Asked Questions</a>,” <em>hstore.cs.brown.edu</em>, October 2013.</p></li><li><p>“<a href="http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/" target="_blank" rel="noreferrer">Amazon DynamoDB Developer Guide</a>,” Amazon Web Services, Inc., 2014.</p></li><li><p>Rusty Klophaus: “<a href="http://lists.basho.com/pipermail/riak-users_lists.basho.com/2011-October/006220.html" target="_blank" rel="noreferrer">Difference Between 2I and Search</a>,” email to <em>riak-users</em> mailing list, <em>lists.basho.com</em>, October 25, 2011.</p></li><li><p>Donald K. Burleson: “<a href="http://www.dba-oracle.com/art_partit.htm" target="_blank" rel="noreferrer">Object Partitioning in Oracle</a>,”<em>dba-oracle.com</em>, November 8, 2000.</p></li><li><p>Eric Evans: “<a href="http://www.slideshare.net/jericevans/virtual-nodes-rethinking-topology-in-cassandra" target="_blank" rel="noreferrer">Rethinking Topology in Cassandra</a>,” at <em>ApacheCon Europe</em>, November 2012.</p></li><li><p>Rafał Kuć: “<a href="http://elasticsearchserverbook.com/reroute-api-explained/" target="_blank" rel="noreferrer">Reroute API Explained</a>,” <em>elasticsearchserverbook.com</em>, September 30, 2013.</p></li><li><p>“<a href="http://www.project-voldemort.com/voldemort/" target="_blank" rel="noreferrer">Project Voldemort Documentation</a>,” <em>project-voldemort.com</em>.</p></li><li><p>Enis Soztutar: “<a href="http://hortonworks.com/blog/apache-hbase-region-splitting-and-merging/" target="_blank" rel="noreferrer">Apache HBase Region Splitting and Merging</a>,” <em>hortonworks.com</em>, February 1, 2013.</p></li><li><p>Brandon Williams: “<a href="http://www.datastax.com/dev/blog/virtual-nodes-in-cassandra-1-2" target="_blank" rel="noreferrer">Virtual Nodes in Cassandra 1.2</a>,” <em>datastax.com</em>, December 4, 2012.</p></li><li><p>Richard Jones: “<a href="https://www.metabrew.com/article/libketama-consistent-hashing-algo-memcached-clients" target="_blank" rel="noreferrer">libketama: Consistent Hashing Library for Memcached Clients</a>,” <em>metabrew.com</em>, April 10, 2007.</p></li><li><p>Branimir Lambov: “<a href="http://www.datastax.com/dev/blog/token-allocation-algorithm" target="_blank" rel="noreferrer">New Token Allocation Algorithm in Cassandra 3.0</a>,” <em>datastax.com</em>, January 28, 2016.</p></li><li><p>Jason Wilder: “<a href="http://jasonwilder.com/blog/2014/02/04/service-discovery-in-the-cloud/" target="_blank" rel="noreferrer">Open-Source Service Discovery</a>,” <em>jasonwilder.com</em>, February 2014.</p></li><li><p>Kishore Gopalakrishna, Shi Lu, Zhen Zhang, et al.: “<a href="http://www.socc2012.org/helix_onecol.pdf?attredirects=0" target="_blank" rel="noreferrer">Untangling Cluster Management with Helix</a>,” at <em>ACM Symposium on Cloud Computing</em> (SoCC), October 2012. <a href="http://dx.doi.org/10.1145/2391229.2391248" target="_blank" rel="noreferrer">doi:10.1145/2391229.2391248</a></p></li><li><p>“<a href="http://docs.couchbase.com/moxi-manual-1.8/" target="_blank" rel="noreferrer">Moxi 1.8 Manual</a>,” Couchbase, Inc., 2014.</p></li><li><p>Shivnath Babu and Herodotos Herodotou: “<a href="http://research.microsoft.com/pubs/206464/db-mr-survey-final.pdf" target="_blank" rel="noreferrer">Massively Parallel Databases and MapReduce Systems</a>,” <em>Foundations and Trends in Databases</em>, volume 5, number 1, pages 1–104, November 2013.<a href="http://dx.doi.org/10.1561/1900000036" target="_blank" rel="noreferrer">doi:10.1561/1900000036</a></p></li></ol></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-5941af80><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-5941af80><span class="visually-hidden" id="doc-footer-aria-label" data-v-5941af80>Pager</span><div class="pager" data-v-5941af80><!----></div><div class="pager" data-v-5941af80><a class="VPLink link pager-link next" href="/preface.html" data-v-5941af80><!--[--><span class="desc" data-v-5941af80>Next page</span><span class="title" data-v-5941af80>序言</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"summary.md\":\"B0amUxKu\",\"en-us_ch2.md\":\"C2WDegur\",\"navbar.md\":\"BP3c7hpb\",\"readme.md\":\"B0Er_XOT\",\"en-us_ch3.md\":\"DCh9kXaX\",\"glossary.md\":\"BXnsEoNy\",\"preface.md\":\"CVJB568P\",\"en-us_summary.md\":\"DEmR9T6z\",\"sidebar.md\":\"CsiT90z_\",\"en-us__navbar.md\":\"DXzSSaBt\",\"en-us__sidebar.md\":\"8oLXzuTa\",\"ch12.md\":\"Co1Ox6w9\",\"ch1.md\":\"D1iB_H8T\",\"zh-tw__navbar.md\":\"BvalGuZ2\",\"en-us_colophon.md\":\"DtLhM_I1\",\"en-us_part-iii.md\":\"C9H-zTxq\",\"ch6.md\":\"D8Ld1wtY\",\"zh-tw_summary.md\":\"BuHAa7nF\",\"en-us_ch5.md\":\"OxSuef0R\",\"en-us_ch11.md\":\"D5D4V1zm\",\"colophon.md\":\"Du3LzVqP\",\"zh-tw_ch4.md\":\"DP3D7goZ\",\"en-us_part-i.md\":\"D-ZRANlY\",\"ch4.md\":\"C17WfCXK\",\"en-us_preface.md\":\"0QJb1SWA\",\"en-us_ch9.md\":\"LyIzo0ry\",\"ch10.md\":\"CEi3COB5\",\"en-us_part-ii.md\":\"BYnJZO_1\",\"en-us_ch4.md\":\"DdDCoVjs\",\"part-ii.md\":\"BKzySLu3\",\"zh-tw_readme.md\":\"aVUnm1jO\",\"en-us_ch6.md\":\"BwpB13Nu\",\"part-i.md\":\"BBJf6w7c\",\"en-us_glossary.md\":\"DLLZmog8\",\"en-us_ch12.md\":\"-d4NHzF3\",\"index.md\":\"CmHb6CnG\",\"zh-tw__sidebar.md\":\"ChNCxc4M\",\"en-us_ch10.md\":\"D_lwi595\",\"ch11.md\":\"DcJTjZF3\",\"ch8.md\":\"Cz0ET0fV\",\"zh-tw_ch12.md\":\"Ycnd6A8k\",\"ch3.md\":\"DhQXUQY8\",\"zh-tw_ch3.md\":\"DRlTUDPX\",\"ch2.md\":\"Bm9iBlTb\",\"ch9.md\":\"Bv3D9gOJ\",\"en-us_ch1.md\":\"lWcvoqfk\",\"part-iii.md\":\"BrkY_LtG\",\"zh-tw_ch2.md\":\"_oRuHLQc\",\"zh-tw_ch10.md\":\"Cjjf3E9L\",\"zh-tw_ch7.md\":\"CCnMVrqS\",\"zh-tw_ch8.md\":\"B9FJi3Ng\",\"zh-tw_colophon.md\":\"DOJIrifa\",\"zh-tw_part-i.md\":\"n9I73DQ3\",\"zh-tw_part-ii.md\":\"CAkQhN5V\",\"en-us_readme.md\":\"DN0BZAbz\",\"zh-tw_ch11.md\":\"Dt-HgChC\",\"en-us_ch7.md\":\"DcWzvId0\",\"zh-tw_ch6.md\":\"CbSfpHsl\",\"ch5.md\":\"vXod8k2u\",\"zh-tw_preface.md\":\"De0oJ34s\",\"zh-tw_ch1.md\":\"CLZ7WDab\",\"en-us_ch8.md\":\"jFSZwcL3\",\"ch7.md\":\"Die5pnSH\",\"zh-tw_part-iii.md\":\"MDr_8oqQ\",\"zh-tw_ch5.md\":\"lRedaHi2\",\"zh-tw_glossary.md\":\"C6qN5x-n\",\"zh-tw_ch9.md\":\"Y512fJ8b\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"设计数据密集型应用\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"sidebar\":[{\"text\":\"序言\",\"link\":\"/preface\",\"items\":[{\"text\":\"第一章：可靠性、可伸缩性和可维护性\",\"link\":\"/ch1\"},{\"text\":\"第二章：数据模型与查询语言\",\"link\":\"/ch2\"}]},{\"text\":\"第一部分：数据系统基础\",\"link\":\"/part-i\",\"items\":[{\"text\":\"第一章：可靠性、可伸缩性和可维护性\",\"link\":\"/ch1\"},{\"text\":\"第二章：数据模型与查询语言\",\"link\":\"/ch2\"},{\"text\":\"第三章：存储与检索\",\"link\":\"/ch3\"},{\"text\":\"第四章：编码与演化\",\"link\":\"/ch4\"}]},{\"text\":\"第二部分：分布式数据\",\"link\":\"/part-ii\",\"items\":[{\"text\":\"第五章：复制\",\"link\":\"/ch5\"},{\"text\":\"第六章：分区\",\"link\":\"/ch6\"},{\"text\":\"第七章：事务\",\"link\":\"/ch7\"},{\"text\":\"第八章：分布式系统的麻烦\",\"link\":\"/ch8\"},{\"text\":\"第九章：一致性与共识\",\"link\":\"/ch9\"}]},{\"text\":\"第三部分：衍生数据\",\"link\":\"/part-iii\",\"items\":[{\"text\":\"第十章：批处理\",\"link\":\"/ch10\"},{\"text\":\"第十一章：流处理\",\"link\":\"/ch11\"},{\"text\":\"第十二章：数据系统的未来\",\"link\":\"/ch12\"}]},{\"text\":\"术语表\",\"link\":\"/glossary\"},{\"text\":\"后记\",\"link\":\"/colophon\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>