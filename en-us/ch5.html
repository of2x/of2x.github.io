<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>5. Replication | 设计数据密集型应用</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.1.4">
    <link rel="preload stylesheet" href="/assets/style.DjFoGsfx.css" as="style">
    
    <script type="module" src="/assets/app.CGlI6-d6.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BDqU1K9f.js">
    <link rel="modulepreload" href="/assets/chunks/framework.biRBrEtS.js">
    <link rel="modulepreload" href="/assets/chunks/ch5.BX9Ptwzf.js">
    <link rel="modulepreload" href="/assets/en-us_ch5.md.OxSuef0R.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar has-sidebar top" data-v-7ad780c2 data-v-844edcde><div class="wrapper" data-v-844edcde><div class="container" data-v-844edcde><div class="title" data-v-844edcde><div class="VPNavBarTitle has-sidebar" data-v-844edcde data-v-0ad69264><a class="title" href="/" data-v-0ad69264><!--[--><!--]--><!----><span data-v-0ad69264>设计数据密集型应用</span><!--[--><!--]--></a></div></div><div class="content" data-v-844edcde><div class="content-body" data-v-844edcde><!--[--><!--]--><div class="VPNavBarSearch search" data-v-844edcde><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-844edcde data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-283b26e9 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-844edcde data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-358b6670><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-844edcde data-v-8e87c032 data-v-af5898d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-af5898d3><span class="vpi-more-horizontal icon" data-v-af5898d3></span></button><div class="menu" data-v-af5898d3><div class="VPMenu" data-v-af5898d3 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-8e87c032><div class="item appearance" data-v-8e87c032><p class="label" data-v-8e87c032>Appearance</p><div class="appearance-action" data-v-8e87c032><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-8e87c032 data-v-7df97737 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-7df97737></span><span class="vpi-moon moon" data-v-7df97737></span><!--]--></span></span></button></div></div></div><div class="group" data-v-8e87c032><div class="item social-links" data-v-8e87c032><div class="VPSocialLinks social-links-list" data-v-8e87c032 data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-358b6670><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-844edcde data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-844edcde><div class="divider-line" data-v-844edcde></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-883964e0><button data-v-883964e0>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-4871f9f5><div class="curtain" data-v-4871f9f5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-4871f9f5><span class="visually-hidden" id="sidebar-aria-label" data-v-4871f9f5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/preface.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>序言</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch1.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第一章：可靠性、可伸缩性和可维护性</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch2.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第二章：数据模型与查询语言</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/part-i.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>第一部分：数据系统基础</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch1.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第一章：可靠性、可伸缩性和可维护性</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch2.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第二章：数据模型与查询语言</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch3.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第三章：存储与检索</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch4.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第四章：编码与演化</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/part-ii.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>第二部分：分布式数据</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch5.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第五章：复制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch6.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第六章：分区</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch7.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第七章：事务</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch8.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第八章：分布式系统的麻烦</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch9.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第九章：一致性与共识</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0 is-link" data-v-4871f9f5 data-v-c24f735a><div class="item" tabindex="0" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/part-iii.html" data-v-c24f735a><!--[--><h2 class="text" data-v-c24f735a>第三部分：衍生数据</h2><!--]--></a><!----></div><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch10.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第十章：批处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch11.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第十一章：流处理</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/ch12.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>第十二章：数据系统的未来</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-4871f9f5><section class="VPSidebarItem level-0" data-v-4871f9f5 data-v-c24f735a><!----><div class="items" data-v-c24f735a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/glossary.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>术语表</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c24f735a data-v-c24f735a><div class="item" data-v-c24f735a><div class="indicator" data-v-c24f735a></div><a class="VPLink link link" href="/colophon.html" data-v-c24f735a><!--[--><p class="text" data-v-c24f735a>后记</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-269d7ea7><div class="content" data-v-269d7ea7><div class="outline-marker" data-v-269d7ea7></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-269d7ea7>On this page</div><ul class="VPDocOutlineItem root" data-v-269d7ea7 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _en-us_ch5" data-v-e6f2a212><div><h1 id="_5-replication" tabindex="-1">5. Replication <a class="header-anchor" href="#_5-replication" aria-label="Permalink to &quot;5. Replication&quot;">​</a></h1><p><img src="/assets/ch5.B2ZVH4EE.png" alt=""></p><blockquote><p><em>The major difference between a thing that might go wrong and a thing that cannot possibly go wrong is that when a thing that cannot possibly go wrong goes wrong it usually turns out to be impossible to get at or repair.</em></p><p>​ — Douglas Adams, <em>Mostly Harmless</em> (1992)</p></blockquote><hr><p>In <a href="./part-i.html">Part I</a> of this book, we discussed aspects of data systems that apply when data is stored on a single machine. Now, in <a href="./part-ii.html">Part II</a>, we move up a level and ask: what happens if multiple machines are involved in storage and retrieval of data?</p><p>There are various reasons why you might want to distribute a database across multi‐ ple machines:</p><p><em><strong>Scalability</strong></em></p><p>If your data volume, read load, or write load grows bigger than a single machine can handle, you can potentially spread the load across multiple machines.</p><p><em><strong>Fault tolerance/high availability</strong></em></p><p>If your application needs to continue working even if one machine (or several machines, or the network, or an entire datacenter) goes down, you can use multi‐ ple machines to give you redundancy. When one fails, another one can take over.</p><p><em><strong>Latency</strong></em></p><p>If you have users around the world, you might want to have servers at various locations worldwide so that each user can be served from a datacenter that is geo‐ graphically close to them. That avoids the users having to wait for network pack‐ ets to travel halfway around the world.</p><h2 id="" tabindex="-1">…… <a class="header-anchor" href="#" aria-label="Permalink to &quot;……&quot;">​</a></h2><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h2><p>In this chapter we looked at the issue of replication. Replication can serve several purposes:</p><p><em><strong>High availability</strong></em></p><p>Keeping the system running, even when one machine (or several machines, or an entire datacenter) goes down</p><p><em><strong>Disconnected operation</strong></em></p><p>Allowing an application to continue working when there is a network interrup‐ tion</p><p><em><strong>Latency</strong></em></p><p>Placing data geographically close to users, so that users can interact with it faster</p><p><em><strong>Scalability</strong></em></p><p>Being able to handle a higher volume of reads than a single machine could han‐ dle, by performing reads on replicas</p><p>Despite being a simple goal—keeping a copy of the same data on several machines— replication turns out to be a remarkably tricky problem. It requires carefully thinking about concurrency and about all the things that can go wrong, and dealing with the consequences of those faults. At a minimum, we need to deal with unavailable nodes and network interruptions (and that’s not even considering the more insidious kinds of fault, such as silent data corruption due to software bugs).</p><p>We discussed three main approaches to replication:</p><p><em><strong>Single-leader replication</strong></em></p><p>Clients send all writes to a single node (the leader), which sends a stream of data change events to the other replicas (followers). Reads can be performed on any replica, but reads from followers might be stale.</p><p><em><strong>Multi-leader replication</strong></em></p><p>Clients send each write to one of several leader nodes, any of which can accept writes. The leaders send streams of data change events to each other and to any follower nodes.</p><p><em><strong>Leaderless replication</strong></em></p><p>Clients send each write to several nodes, and read from several nodes in parallel in order to detect and correct nodes with stale data.</p><p>Each approach has advantages and disadvantages. Single-leader replication is popular because it is fairly easy to understand and there is no conflict resolution to worry about. Multi-leader and leaderless replication can be more robust in the presence of faulty nodes, network interruptions, and latency spikes—at the cost of being harder to reason about and providing only very weak consistency guarantees.</p><p>Replication can be synchronous or asynchronous, which has a profound effect on the system behavior when there is a fault. Although asynchronous replication can be fast when the system is running smoothly, it’s important to figure out what happens when replication lag increases and servers fail. If a leader fails and you promote an asynchronously updated follower to be the new leader, recently committed data may be lost.</p><p>We looked at some strange effects that can be caused by replication lag, and we dis‐ cussed a few consistency models which are helpful for deciding how an application should behave under replication lag:</p><p><em><strong>Read-after-write consistency</strong></em></p><p>Users should always see data that they submitted themselves.</p><p><em><strong>Monotonic reads</strong></em></p><p>After users have seen the data at one point in time, they shouldn’t later see the data from some earlier point in time.</p><p><em><strong>Consistent prefix reads</strong></em></p><p>Users should see the data in a state that makes causal sense: for example, seeing a question and its reply in the correct order.</p><p>Finally, we discussed the concurrency issues that are inherent in multi-leader and leaderless replication approaches: because they allow multiple writes to happen con‐ currently, conflicts may occur. We examined an algorithm that a database might use to determine whether one operation happened before another, or whether they hap‐ pened concurrently. We also touched on methods for resolving conflicts by merging together concurrent updates.</p><p>In the next chapter we will continue looking at data that is distributed across multiple machines, through the counterpart of replication: splitting a large dataset into <em>partitions</em>.</p><h2 id="references" tabindex="-1">References <a class="header-anchor" href="#references" aria-label="Permalink to &quot;References&quot;">​</a></h2><hr><ol><li><p>Bruce G. Lindsay, Patricia Griffiths Selinger, C. Galtieri, et al.: “<a href="http://domino.research.ibm.com/library/cyberdig.nsf/papers/A776EC17FC2FCE73852579F100578964/$File/RJ2571.pdf" target="_blank" rel="noreferrer">Notes on Distributed Databases</a>,” IBM Research, Research Report RJ2571(33471), July 1979.</p></li><li><p>“<a href="http://www.oracle.com/technetwork/database/availability/active-data-guard-wp-12c-1896127.pdf" target="_blank" rel="noreferrer">Oracle Active Data Guard Real-Time Data Protection and Availability</a>,” Oracle White Paper, June 2013.</p></li><li><p>“<a href="http://msdn.microsoft.com/en-us/library/hh510230.aspx" target="_blank" rel="noreferrer">AlwaysOn Availability Groups</a>,” in <em>SQL Server Books Online</em>, Microsoft, 2012.</p></li><li><p>Lin Qiao, Kapil Surlaker, Shirshanka Das, et al.: “<a href="http://www.slideshare.net/amywtang/espresso-20952131" target="_blank" rel="noreferrer">On Brewing Fresh Espresso: LinkedIn’s Distributed Data Serving Platform</a>,” at <em>ACM International Conference on Management of Data</em> (SIGMOD), June 2013.</p></li><li><p>Jun Rao: “<a href="http://www.slideshare.net/junrao/kafka-replication-apachecon2013" target="_blank" rel="noreferrer">Intra-Cluster Replication for Apache Kafka</a>,” at <em>ApacheCon North America</em>, February 2013.</p></li><li><p>“<a href="https://www.rabbitmq.com/ha.html" target="_blank" rel="noreferrer">Highly Available Queues</a>,” in <em>RabbitMQ Server Documentation</em>, Pivotal Software, Inc., 2014.</p></li><li><p>Yoshinori Matsunobu: “<a href="http://yoshinorimatsunobu.blogspot.co.uk/2014/04/semi-synchronous-replication-at-facebook.html" target="_blank" rel="noreferrer">Semi-Synchronous Replication at Facebook</a>,” <em>yoshinorimatsunobu.blogspot.co.uk</em>, April 1, 2014.</p></li><li><p>Robbert van Renesse and Fred B. Schneider: “<a href="http://static.usenix.org/legacy/events/osdi04/tech/full_papers/renesse/renesse.pdf" target="_blank" rel="noreferrer">Chain Replication for Supporting High Throughput and Availability</a>,” at <em>6th USENIX Symposium on Operating System Design and Implementation</em> (OSDI), December 2004.</p></li><li><p>Jeff Terrace and Michael J. Freedman: “<a href="https://www.usenix.org/legacy/event/usenix09/tech/full_papers/terrace/terrace.pdf" target="_blank" rel="noreferrer">Object Storage on CRAQ: High-Throughput Chain Replication for Read-Mostly Workloads</a>,” at <em>USENIX Annual Technical Conference</em> (ATC), June 2009.</p></li><li><p>Brad Calder, Ju Wang, Aaron Ogus, et al.: “<a href="http://sigops.org/sosp/sosp11/current/2011-Cascais/printable/11-calder.pdf" target="_blank" rel="noreferrer">Windows Azure Storage: A Highly Available Cloud Storage Service with Strong Consistency</a>,” at <em>23rd ACM Symposium on Operating Systems Principles</em> (SOSP), October 2011.</p></li><li><p>Andrew Wang: “<a href="http://umbrant.com/blog/2016/windows_azure_storage.html" target="_blank" rel="noreferrer">Windows Azure Storage</a>,” <em>umbrant.com</em>, February 4, 2016.</p></li><li><p>“<a href="https://www.percona.com/doc/percona-xtrabackup/2.1/index.html" target="_blank" rel="noreferrer">Percona Xtrabackup - Documentation</a>,” Percona LLC, 2014.</p></li><li><p>Jesse Newland: “<a href="https://github.com/blog/1261-github-availability-this-week" target="_blank" rel="noreferrer">GitHub Availability This Week</a>,” <em>github.com</em>, September 14, 2012.</p></li><li><p>Mark Imbriaco: “<a href="https://github.com/blog/1364-downtime-last-saturday" target="_blank" rel="noreferrer">Downtime Last Saturday</a>,” <em>github.com</em>, December 26, 2012.</p></li><li><p>John Hugg: “<a href="https://www.youtube.com/watch?v=gJRj3vJL4wE" target="_blank" rel="noreferrer">‘All in’ with Determinism for Performance and Testing in Distributed Systems</a>,” at <em>Strange Loop</em>, September 2015. Amit Kapila: “<a href="http://www.pgcon.org/2012/schedule/attachments/258_212_Internals%20Of%20PostgreSQL%20Wal.pdf" target="_blank" rel="noreferrer">WAL Internals of PostgreSQL</a>,” at <em>PostgreSQL Conference</em> (PGCon), May 2012.</p></li><li><p><a href="http://dev.mysql.com/doc/internals/en/index.html" target="_blank" rel="noreferrer"><em>MySQL Internals Manual</em></a>. Oracle, 2014.</p></li><li><p>Yogeshwer Sharma, Philippe Ajoux, Petchean Ang, et al.: “<a href="https://www.usenix.org/system/files/conference/nsdi15/nsdi15-paper-sharma.pdf" target="_blank" rel="noreferrer">Wormhole: Reliable Pub-Sub to Support Geo-Replicated Internet Services</a>,” at <em>12th USENIX Symposium on Networked Systems Design and Implementation</em> (NSDI), May 2015.</p></li><li><p>“<a href="http://www.oracle.com/us/products/middleware/data-integration/oracle-goldengate-realtime-access-2031152.pdf" target="_blank" rel="noreferrer">Oracle GoldenGate 12c: Real-Time Access to Real-Time Information</a>,” Oracle White Paper, October 2013.</p></li><li><p>Shirshanka Das, Chavdar Botev, Kapil Surlaker, et al.: “<a href="http://www.socc2012.org/s18-das.pdf" target="_blank" rel="noreferrer">All Aboard the Databus!</a>,” at <em>ACM Symposium on Cloud Computing</em> (SoCC), October 2012.</p></li><li><p>Greg Sabino Mullane: “<a href="http://blog.endpoint.com/2014/06/bucardo-5-multimaster-postgres-released.html" target="_blank" rel="noreferrer">Version 5 of Bucardo Database Replication System</a>,” <em>blog.endpoint.com</em>, June 23, 2014.</p></li><li><p>Werner Vogels: “<a href="http://queue.acm.org/detail.cfm?id=1466448" target="_blank" rel="noreferrer">Eventually Consistent</a>,” <em>ACM Queue</em>, volume 6, number 6, pages 14–19, October 2008. <a href="http://dx.doi.org/10.1145/1466443.1466448" target="_blank" rel="noreferrer">doi:10.1145/1466443.1466448</a></p></li><li><p>Douglas B. Terry: “<a href="http://research.microsoft.com/pubs/157411/ConsistencyAndBaseballReport.pdf" target="_blank" rel="noreferrer">Replicated Data Consistency Explained Through Baseball</a>,” Microsoft Research, Technical Report MSR-TR-2011-137, October 2011.</p></li><li><p>Douglas B. Terry, Alan J. Demers, Karin Petersen, et al.: “<a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.71.2269&amp;rep=rep1&amp;type=pdf" target="_blank" rel="noreferrer">Session Guarantees for Weakly Consistent Replicated Data</a>,” at <em>3rd International Conference on Parallel and Distributed Information Systems</em> (PDIS), September 1994. <a href="http://dx.doi.org/10.1109/PDIS.1994.331722" target="_blank" rel="noreferrer">doi:10.1109/PDIS.1994.331722</a></p></li><li><p>Terry Pratchett: <em>Reaper Man: A Discworld Novel</em>. Victor Gollancz, 1991. ISBN: 978-0-575-04979-6</p></li><li><p>“<a href="http://tungsten-replicator.org/" target="_blank" rel="noreferrer">Tungsten Replicator</a>,” Continuent, Inc., 2014.</p></li><li><p>“<a href="http://bdr-project.org/docs/next/index.html" target="_blank" rel="noreferrer">BDR 0.10.0 Documentation</a>,” The PostgreSQL Global Development Group, <em>bdr-project.org</em>, 2015.</p></li><li><p>Robert Hodges: “<a href="http://scale-out-blog.blogspot.co.uk/2012/04/if-you-must-deploy-multi-master.html" target="_blank" rel="noreferrer">If You <em>Must</em> Deploy Multi-Master Replication, Read This First</a>,” <em>scale-out-blog.blogspot.co.uk</em>, March 30, 2012.</p></li><li><p>J. Chris Anderson, Jan Lehnardt, and Noah Slater: <em>CouchDB: The Definitive Guide</em>. O&#39;Reilly Media, 2010. ISBN: 978-0-596-15589-6</p></li><li><p>AppJet, Inc.: “<a href="https://github.com/ether/etherpad-lite/blob/e2ce9dc/doc/easysync/easysync-full-description.pdf" target="_blank" rel="noreferrer">Etherpad and EasySync Technical Manual</a>,” <em>github.com</em>, March 26, 2011.</p></li><li><p>John Day-Richter: “<a href="http://googledrive.blogspot.com/2010/09/whats-different-about-new-google-docs.html" target="_blank" rel="noreferrer">What’s Different About the New Google Docs: Making Collaboration Fast</a>,” <em>googledrive.blogspot.com</em>, 23 September 2010.</p></li><li><p>Martin Kleppmann and Alastair R. Beresford: “<a href="http://arxiv.org/abs/1608.03960" target="_blank" rel="noreferrer">A Conflict-Free Replicated JSON Datatype</a>,” arXiv:1608.03960, August 13, 2016.</p></li><li><p>Frazer Clement: “<a href="http://messagepassing.blogspot.co.uk/2011/10/eventual-consistency-detecting.html" target="_blank" rel="noreferrer">Eventual Consistency – Detecting Conflicts</a>,” <em>messagepassing.blogspot.co.uk</em>, October 20, 2011.</p></li><li><p>Robert Hodges: “<a href="https://www.percona.com/live/mysql-conference-2013/sessions/state-art-mysql-multi-master-replication" target="_blank" rel="noreferrer">State of the Art for MySQL Multi-Master Replication</a>,” at <em>Percona Live: MySQL Conference &amp; Expo</em>, April 2013.</p></li><li><p>John Daily: “<a href="http://basho.com/clocks-are-bad-or-welcome-to-distributed-systems/" target="_blank" rel="noreferrer">Clocks Are Bad, or, Welcome to the Wonderful World of Distributed Systems</a>,” <em>basho.com</em>, November 12, 2013.</p></li><li><p>Riley Berton: “<a href="http://sdf.org/~riley/blog/2016/01/04/is-bi-directional-replication-bdr-in-postgres-transactional/" target="_blank" rel="noreferrer">Is Bi-Directional Replication (BDR) in Postgres Transactional?</a>,” <em>sdf.org</em>, January 4, 2016.</p></li><li><p>Giuseppe DeCandia, Deniz Hastorun, Madan Jampani, et al.: “<a href="http://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf" target="_blank" rel="noreferrer">Dynamo: Amazon&#39;s Highly Available Key-Value Store</a>,” at <em>21st ACM Symposium on Operating Systems Principles</em> (SOSP), October 2007.</p></li><li><p>Marc Shapiro, Nuno Preguiça, Carlos Baquero, and Marek Zawirski: “<a href="http://hal.inria.fr/inria-00555588/" target="_blank" rel="noreferrer">A Comprehensive Study of Convergent and Commutative Replicated Data Types</a>,” INRIA Research Report no. 7506, January 2011.</p></li><li><p>Sam Elliott: “<a href="https://speakerdeck.com/lenary/crdts-an-update-or-just-a-put" target="_blank" rel="noreferrer">CRDTs: An UPDATE (or Maybe Just a PUT)</a>,” at <em>RICON West</em>, October 2013.</p></li><li><p>Russell Brown: “<a href="https://gist.github.com/russelldb/f92f44bdfb619e089a4d" target="_blank" rel="noreferrer">A Bluffers Guide to CRDTs in Riak</a>,” <em>gist.github.com</em>, October 28, 2013.</p></li><li><p>Benjamin Farinier, Thomas Gazagnaire, and Anil Madhavapeddy: “<a href="http://gazagnaire.org/pub/FGM15.pdf" target="_blank" rel="noreferrer">Mergeable Persistent Data Structures</a>,” at <em>26es Journées Francophones des Langages Applicatifs</em> (JFLA), January 2015.</p></li><li><p>Chengzheng Sun and Clarence Ellis: “<a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.53.933&amp;rep=rep1&amp;type=pdf" target="_blank" rel="noreferrer">Operational Transformation in Real-Time Group Editors: Issues, Algorithms, and Achievements</a>,” at <em>ACM Conference on Computer Supported Cooperative Work</em> (CSCW), November 1998.</p></li><li><p>Lars Hofhansl: “<a href="https://issues.apache.org/jira/browse/HBASE-7709" target="_blank" rel="noreferrer">HBASE-7709: Infinite Loop Possible in Master/Master Replication</a>,” <em>issues.apache.org</em>, January 29, 2013.</p></li><li><p>David K. Gifford: “<a href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.84.7698" target="_blank" rel="noreferrer">Weighted Voting for Replicated Data</a>,” at <em>7th ACM Symposium on Operating Systems Principles</em> (SOSP), December 1979. <a href="http://dx.doi.org/10.1145/800215.806583" target="_blank" rel="noreferrer">doi:10.1145/800215.806583</a></p></li><li><p>Heidi Howard, Dahlia Malkhi, and Alexander Spiegelman: “<a href="https://arxiv.org/abs/1608.06696" target="_blank" rel="noreferrer">Flexible Paxos: Quorum Intersection Revisited</a>,” <em>arXiv:1608.06696</em>, August 24, 2016.</p></li><li><p>Joseph Blomstedt: “<a href="http://lists.basho.com/pipermail/riak-users_lists.basho.com/2012-January/007157.html" target="_blank" rel="noreferrer">Re: Absolute Consistency</a>,” email to <em>riak-users</em> mailing list, <em>lists.basho.com</em>, January 11, 2012.</p></li><li><p>Joseph Blomstedt: “<a href="https://vimeo.com/51973001" target="_blank" rel="noreferrer">Bringing Consistency to Riak</a>,” at <em>RICON West</em>, October 2012.</p></li><li><p>Peter Bailis, Shivaram Venkataraman, Michael J. Franklin, et al.: “<a href="http://www.bailis.org/papers/pbs-cacm2014.pdf" target="_blank" rel="noreferrer">Quantifying Eventual Consistency with PBS</a>,” <em>Communications of the ACM</em>, volume 57, number 8, pages 93–102, August 2014. <a href="http://dx.doi.org/10.1145/2632792" target="_blank" rel="noreferrer">doi:10.1145/2632792</a></p></li><li><p>Jonathan Ellis: “<a href="http://www.datastax.com/dev/blog/modern-hinted-handoff" target="_blank" rel="noreferrer">Modern Hinted Handoff</a>,” <em>datastax.com</em>, December 11, 2012.</p></li><li><p>“<a href="https://github.com/voldemort/voldemort/wiki" target="_blank" rel="noreferrer">Project Voldemort Wiki</a>,” <em>github.com</em>, 2013.</p></li><li><p>“<a href="http://www.datastax.com/documentation/cassandra/2.0/index.html" target="_blank" rel="noreferrer">Apache Cassandra 2.0 Documentation</a>,” DataStax, Inc., 2014.</p></li><li><p>“<a href="http://basho.com/assets/MultiDatacenter_Replication.pdf" target="_blank" rel="noreferrer">Riak Enterprise: Multi-Datacenter Replication</a>.” Technical whitepaper, Basho Technologies, Inc., September 2014.</p></li><li><p>Jonathan Ellis: “<a href="http://www.datastax.com/dev/blog/why-cassandra-doesnt-need-vector-clocks" target="_blank" rel="noreferrer">Why Cassandra Doesn&#39;t Need Vector Clocks</a>,” <em>datastax.com</em>, September 2, 2013.</p></li><li><p>Leslie Lamport: “<a href="http://research.microsoft.com/en-US/um/people/Lamport/pubs/time-clocks.pdf" target="_blank" rel="noreferrer">Time, Clocks, and the Ordering of Events in a Distributed System</a>,” <em>Communications of the ACM</em>, volume 21, number 7, pages 558–565, July 1978. <a href="http://dx.doi.org/10.1145/359545.359563" target="_blank" rel="noreferrer">doi:10.1145/359545.359563</a></p></li><li><p>Joel Jacobson: “<a href="http://blog.joeljacobson.com/riak-2-0-data-types/" target="_blank" rel="noreferrer">Riak 2.0: Data Types</a>,” <em>blog.joeljacobson.com</em>, March 23, 2014.</p></li><li><p>D. Stott Parker Jr., Gerald J. Popek, Gerard Rudisin, et al.: “<a href="http://zoo.cs.yale.edu/classes/cs426/2013/bib/parker83detection.pdf" target="_blank" rel="noreferrer">Detection of Mutual Inconsistency in Distributed Systems</a>,” <em>IEEE Transactions on Software Engineering</em>, volume 9, number 3, pages 240–247, May 1983. <a href="http://dx.doi.org/10.1109/TSE.1983.236733" target="_blank" rel="noreferrer">doi:10.1109/TSE.1983.236733</a></p></li><li><p>Nuno Preguiça, Carlos Baquero, Paulo Sérgio Almeida, et al.: “<a href="http://arxiv.org/pdf/1011.5808v1.pdf" target="_blank" rel="noreferrer">Dotted Version Vectors: Logical Clocks for Optimistic Replication</a>,” arXiv:1011.5808, November 26, 2010.</p></li><li><p>Sean Cribbs: “<a href="https://www.youtube.com/watch?v=HHkKPdOi-ZU" target="_blank" rel="noreferrer">A Brief History of Time in Riak</a>,” at <em>RICON</em>, October 2014.</p></li><li><p>Russell Brown: “<a href="http://basho.com/posts/technical/vector-clocks-revisited-part-2-dotted-version-vectors/" target="_blank" rel="noreferrer">Vector Clocks Revisited Part 2: Dotted Version Vectors</a>,” <em>basho.com</em>, November 10, 2015.</p></li><li><p>Carlos Baquero: “<a href="https://haslab.wordpress.com/2011/07/08/version-vectors-are-not-vector-clocks/" target="_blank" rel="noreferrer">Version Vectors Are Not Vector Clocks</a>,” <em>haslab.wordpress.com</em>, July 8, 2011.</p></li><li><p>Reinhard Schwarz and Friedemann Mattern: “<a href="http://dcg.ethz.ch/lectures/hs08/seminar/papers/mattern4.pdf" target="_blank" rel="noreferrer">Detecting Causal Relationships in Distributed Computations: In Search of the Holy Grail</a>,” <em>Distributed Computing</em>, volume 7, number 3, pages 149–174, March 1994. <a href="http://dx.doi.org/10.1007/BF02277859" target="_blank" rel="noreferrer">doi:10.1007/BF02277859</a></p></li></ol></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-5941af80><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-5941af80><span class="visually-hidden" id="doc-footer-aria-label" data-v-5941af80>Pager</span><div class="pager" data-v-5941af80><!----></div><div class="pager" data-v-5941af80><a class="VPLink link pager-link next" href="/preface.html" data-v-5941af80><!--[--><span class="desc" data-v-5941af80>Next page</span><span class="title" data-v-5941af80>序言</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"summary.md\":\"B0amUxKu\",\"en-us_ch2.md\":\"C2WDegur\",\"navbar.md\":\"BP3c7hpb\",\"readme.md\":\"B0Er_XOT\",\"en-us_ch3.md\":\"DCh9kXaX\",\"glossary.md\":\"BXnsEoNy\",\"preface.md\":\"CVJB568P\",\"en-us_summary.md\":\"DEmR9T6z\",\"sidebar.md\":\"CsiT90z_\",\"en-us__navbar.md\":\"DXzSSaBt\",\"en-us__sidebar.md\":\"8oLXzuTa\",\"ch12.md\":\"Co1Ox6w9\",\"ch1.md\":\"D1iB_H8T\",\"zh-tw__navbar.md\":\"BvalGuZ2\",\"en-us_colophon.md\":\"DtLhM_I1\",\"en-us_part-iii.md\":\"C9H-zTxq\",\"ch6.md\":\"D8Ld1wtY\",\"zh-tw_summary.md\":\"BuHAa7nF\",\"en-us_ch5.md\":\"OxSuef0R\",\"en-us_ch11.md\":\"D5D4V1zm\",\"colophon.md\":\"Du3LzVqP\",\"zh-tw_ch4.md\":\"DP3D7goZ\",\"en-us_part-i.md\":\"D-ZRANlY\",\"ch4.md\":\"C17WfCXK\",\"en-us_preface.md\":\"0QJb1SWA\",\"en-us_ch9.md\":\"LyIzo0ry\",\"ch10.md\":\"CEi3COB5\",\"en-us_part-ii.md\":\"BYnJZO_1\",\"en-us_ch4.md\":\"DdDCoVjs\",\"part-ii.md\":\"BKzySLu3\",\"zh-tw_readme.md\":\"aVUnm1jO\",\"en-us_ch6.md\":\"BwpB13Nu\",\"part-i.md\":\"BBJf6w7c\",\"en-us_glossary.md\":\"DLLZmog8\",\"en-us_ch12.md\":\"-d4NHzF3\",\"index.md\":\"CmHb6CnG\",\"zh-tw__sidebar.md\":\"ChNCxc4M\",\"en-us_ch10.md\":\"D_lwi595\",\"ch11.md\":\"DcJTjZF3\",\"ch8.md\":\"Cz0ET0fV\",\"zh-tw_ch12.md\":\"Ycnd6A8k\",\"ch3.md\":\"DhQXUQY8\",\"zh-tw_ch3.md\":\"DRlTUDPX\",\"ch2.md\":\"Bm9iBlTb\",\"ch9.md\":\"Bv3D9gOJ\",\"en-us_ch1.md\":\"lWcvoqfk\",\"part-iii.md\":\"BrkY_LtG\",\"zh-tw_ch2.md\":\"_oRuHLQc\",\"zh-tw_ch10.md\":\"Cjjf3E9L\",\"zh-tw_ch7.md\":\"CCnMVrqS\",\"zh-tw_ch8.md\":\"B9FJi3Ng\",\"zh-tw_colophon.md\":\"DOJIrifa\",\"zh-tw_part-i.md\":\"n9I73DQ3\",\"zh-tw_part-ii.md\":\"CAkQhN5V\",\"en-us_readme.md\":\"DN0BZAbz\",\"zh-tw_ch11.md\":\"Dt-HgChC\",\"en-us_ch7.md\":\"DcWzvId0\",\"zh-tw_ch6.md\":\"CbSfpHsl\",\"ch5.md\":\"vXod8k2u\",\"zh-tw_preface.md\":\"De0oJ34s\",\"zh-tw_ch1.md\":\"CLZ7WDab\",\"en-us_ch8.md\":\"jFSZwcL3\",\"ch7.md\":\"Die5pnSH\",\"zh-tw_part-iii.md\":\"MDr_8oqQ\",\"zh-tw_ch5.md\":\"lRedaHi2\",\"zh-tw_glossary.md\":\"C6qN5x-n\",\"zh-tw_ch9.md\":\"Y512fJ8b\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"设计数据密集型应用\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"sidebar\":[{\"text\":\"序言\",\"link\":\"/preface\",\"items\":[{\"text\":\"第一章：可靠性、可伸缩性和可维护性\",\"link\":\"/ch1\"},{\"text\":\"第二章：数据模型与查询语言\",\"link\":\"/ch2\"}]},{\"text\":\"第一部分：数据系统基础\",\"link\":\"/part-i\",\"items\":[{\"text\":\"第一章：可靠性、可伸缩性和可维护性\",\"link\":\"/ch1\"},{\"text\":\"第二章：数据模型与查询语言\",\"link\":\"/ch2\"},{\"text\":\"第三章：存储与检索\",\"link\":\"/ch3\"},{\"text\":\"第四章：编码与演化\",\"link\":\"/ch4\"}]},{\"text\":\"第二部分：分布式数据\",\"link\":\"/part-ii\",\"items\":[{\"text\":\"第五章：复制\",\"link\":\"/ch5\"},{\"text\":\"第六章：分区\",\"link\":\"/ch6\"},{\"text\":\"第七章：事务\",\"link\":\"/ch7\"},{\"text\":\"第八章：分布式系统的麻烦\",\"link\":\"/ch8\"},{\"text\":\"第九章：一致性与共识\",\"link\":\"/ch9\"}]},{\"text\":\"第三部分：衍生数据\",\"link\":\"/part-iii\",\"items\":[{\"text\":\"第十章：批处理\",\"link\":\"/ch10\"},{\"text\":\"第十一章：流处理\",\"link\":\"/ch11\"},{\"text\":\"第十二章：数据系统的未来\",\"link\":\"/ch12\"}]},{\"text\":\"术语表\",\"link\":\"/glossary\"},{\"text\":\"后记\",\"link\":\"/colophon\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>